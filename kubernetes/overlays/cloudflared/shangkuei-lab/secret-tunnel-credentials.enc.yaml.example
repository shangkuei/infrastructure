# Cloudflare Tunnel token secret
# Get token from: terraform output -raw tunnel_token (in cloudflared-shangkuei-lab)
#
# To create encrypted secret:
# 1. Copy this file: cp secret-tunnel-credentials.enc.yaml.example secret-tunnel-credentials.enc.yaml
# 2. Fill in the token from terraform output
# 3. Encrypt: make encrypt
#
# Token-based authentication:
# - cloudflared connects using the token and fetches ingress config from Cloudflare API
# - Ingress rules are managed centrally in Terraform (cloudflare_zero_trust_tunnel_cloudflared_config)
# - No local config file needed
---
apiVersion: v1
kind: Secret
metadata:
  name: cloudflared
  namespace: cloudflared
type: Opaque
stringData:
  # Tunnel token from: terraform output -raw tunnel_token
  token: "YOUR_TUNNEL_TOKEN"
