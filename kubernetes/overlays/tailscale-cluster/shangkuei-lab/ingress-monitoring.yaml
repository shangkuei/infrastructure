---
# Tailscale Ingress for Prometheus
# Accessible via https://prometheus.<tailnet>/
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: prometheus
  namespace: monitoring
  annotations:
    tailscale.com/proxy-class: "default"
spec:
  ingressClassName: tailscale
  defaultBackend:
    service:
      name: prometheus
      port:
        number: 9090
  tls:
    - hosts:
        - prometheus
---
# Tailscale Ingress for Loki
# Accessible via https://loki.<tailnet>/
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: loki
  namespace: monitoring
  annotations:
    tailscale.com/proxy-class: "default"
spec:
  ingressClassName: tailscale
  defaultBackend:
    service:
      name: loki-gateway
      port:
        number: 80
  tls:
    - hosts:
        - loki
