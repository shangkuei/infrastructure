# Gitea Environment Configuration for shangkuei-xyz-unraid
# Copy to .env and fill in actual values

# =============================================================================
# Database Configuration (Required)
# =============================================================================
DB_NAME=gitea
DB_USER=gitea
DB_PASS=your-secure-database-password

# =============================================================================
# Server Configuration
# =============================================================================
GITEA_DOMAIN=gitea.local
GITEA_SSH_DOMAIN=gitea.local
GITEA_ROOT_URL=https://gitea.local

# Port mappings (if exposing directly, not through Traefik)
GITEA_HTTP_PORT=3000
GITEA_SSH_PORT=2222

# =============================================================================
# Security Settings
# =============================================================================
GITEA_DISABLE_REGISTRATION=true
GITEA_REQUIRE_SIGNIN_VIEW=true

# =============================================================================
# Actions Runner Configuration
# =============================================================================
# Registration token from Gitea Admin > Actions > Runners
GITEA_RUNNER_REGISTRATION_TOKEN=your-runner-registration-token

# Runner name (optional, defaults to 'default-runner')
GITEA_RUNNER_NAME=default-runner

# Instance URL for runner
# - Traefik mode: use host IP (e.g., http://localhost:3000)
# - Tailscale mode: use Tailscale hostname (e.g., http://gitea:3000)
# Note: For Tailscale, runner-config.yaml sets container network to "host"
# so job containers can reach Gitea via Tailscale
GITEA_RUNNER_INSTANCE_URL=http://localhost:3000

# =============================================================================
# Tailscale Configuration (for docker-compose.tailscale.override.yml)
# =============================================================================
# Auth key from: https://login.tailscale.com/admin/settings/keys
# Use reusable key or OAuth client for production
TS_AUTHKEY=tskey-auth-xxxxx

# Extra arguments for tailscale up (optional)
# Example: --advertise-tags=tag:server --hostname=gitea
TS_EXTRA_ARGS=

# Domain for Tailscale HTTPS certificate (from tailnet)
# Example: gitea.tail12345.ts.net
TS_CERT_DOMAIN=gitea.your-tailnet.ts.net
